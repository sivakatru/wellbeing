{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\z003r7fd\\\\Downloads\\\\Zero efforts\\\\renon\\\\wellbeing\\\\app\\\\src\\\\screens\\\\StartScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState } from \"react\";\nimport Background from \"../components/Background\";\nimport Logo from \"../components/Logo\";\nimport Header from \"../components/Header\";\nimport Button from \"../components/Button\";\nimport Paragraph from \"../components/Paragraph\";\nimport TextInput from \"../components/TextInput\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { numberValidator } from \"../helpers/numberValidator\";\nexport default function StartScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState({\n    value: \"\",\n    error: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      number = _useState2[0],\n      setNumber = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var getURL = function getURL() {\n    var numberError, response, json;\n    return _regeneratorRuntime.async(function getURL$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            numberError = numberValidator(number.value);\n\n            if (!numberError) {\n              _context.next = 7;\n              break;\n            }\n\n            setNumber(_objectSpread(_objectSpread({}, number), {}, {\n              error: numberError\n            }));\n            setLoading(false);\n            _context.next = 23;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(fetch(\"https://fiu-uat.setu.co/consents/\" + number.value));\n\n          case 10:\n            response = _context.sent;\n            _context.next = 13;\n            return _regeneratorRuntime.awrap(response.text());\n\n          case 13:\n            json = _context.sent;\n            navigation.navigate(\"Dashboard\", {\n              param: json\n            });\n            _context.next = 20;\n            break;\n\n          case 17:\n            _context.prev = 17;\n            _context.t0 = _context[\"catch\"](7);\n            console.error(_context.t0);\n\n          case 20:\n            _context.prev = 20;\n            setLoading(false);\n            return _context.finish(20);\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[7, 17, 20, 23]], Promise);\n  };\n\n  return React.createElement(Background, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, React.createElement(Logo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"Financial Wellbeing\"), React.createElement(Paragraph, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"Reflect on your habits\"), React.createElement(TextInput, {\n    label: \"Mobile number\",\n    returnKeyType: \"next\",\n    value: number.value,\n    onChangeText: function onChangeText(text) {\n      return setNumber({\n        value: text,\n        error: \"\"\n      });\n    },\n    error: !!number.error,\n    errorText: number.error,\n    keyboardType: \"number-pad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    mode: \"contained\",\n    onPress: getURL,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Start evaluating\"), isLoading ? React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"#0000ff\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 20\n    }\n  }) : null);\n}","map":{"version":3,"sources":["C:/Users/z003r7fd/Downloads/Zero efforts/renon/wellbeing/app/src/screens/StartScreen.js"],"names":["React","useState","Background","Logo","Header","Button","Paragraph","TextInput","numberValidator","StartScreen","navigation","value","error","number","setNumber","isLoading","setLoading","getURL","numberError","fetch","response","text","json","navigate","param","console"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,UAAP;AACA,OAAOC,IAAP;AACA,OAAOC,MAAP;AACA,OAAOC,MAAP;AACA,OAAOC,SAAP;AACA,OAAOC,SAAP;;AAEA,SAASC,eAAT;AAEA,eAAe,SAASC,WAAT,OAAqC;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAClD,kBAA4BT,QAAQ,CAAC;AAAEU,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,KAAK,EAAE;AAApB,GAAD,CAApC;AAAA;AAAA,MAAOC,MAAP;AAAA,MAAeC,SAAf;;AACA,mBAAgCb,QAAQ,CAAC,KAAD,CAAxC;AAAA;AAAA,MAAOc,SAAP;AAAA,MAAkBC,UAAlB;;AAEA,MAAMC,MAAM,GAAG,SAATA,MAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AACbD,YAAAA,UAAU,CAAC,IAAD,CAAV;AACME,YAAAA,WAFO,GAEOV,eAAe,CAACK,MAAM,CAACF,KAAR,CAFtB;;AAAA,iBAITO,WAJS;AAAA;AAAA;AAAA;;AAKXJ,YAAAA,SAAS,iCAAMD,MAAN;AAAcD,cAAAA,KAAK,EAAEM;AAArB,eAAT;AACAF,YAAAA,UAAU,CAAC,KAAD,CAAV;AANW;AAAA;;AAAA;AAAA;AAAA;AAAA,6CAScG,KAAK,CAAC,sCAAsCN,MAAM,CAACF,KAA9C,CATnB;;AAAA;AASHS,YAAAA,QATG;AAAA;AAAA,6CAUUA,QAAQ,CAACC,IAAT,EAVV;;AAAA;AAUHC,YAAAA,IAVG;AAWTZ,YAAAA,UAAU,CAACa,QAAX,CAAoB,WAApB,EAAiC;AAAEC,cAAAA,KAAK,EAAEF;AAAT,aAAjC;AAXS;AAAA;;AAAA;AAAA;AAAA;AAaTG,YAAAA,OAAO,CAACb,KAAR;;AAbS;AAAA;AAeTI,YAAAA,UAAU,CAAC,KAAD,CAAV;AAfS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAoBA,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFF,EAGE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAHF,EAME,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,eADR;AAEE,IAAA,aAAa,EAAC,MAFhB;AAGE,IAAA,KAAK,EAAEH,MAAM,CAACF,KAHhB;AAIE,IAAA,YAAY,EAAE,sBAACU,IAAD;AAAA,aAAUP,SAAS,CAAC;AAAEH,QAAAA,KAAK,EAAEU,IAAT;AAAeT,QAAAA,KAAK,EAAE;AAAtB,OAAD,CAAnB;AAAA,KAJhB;AAKE,IAAA,KAAK,EAAE,CAAC,CAACC,MAAM,CAACD,KALlB;AAME,IAAA,SAAS,EAAEC,MAAM,CAACD,KANpB;AAOE,IAAA,YAAY,EAAC,YAPf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAeE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,WAAb;AAAyB,IAAA,OAAO,EAAEK,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAfF,EAkBGF,SAAS,GAAG,oBAAC,iBAAD;AAAmB,IAAA,IAAI,EAAC,OAAxB;AAAgC,IAAA,KAAK,EAAC,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAAwD,IAlBpE,CADF;AAsBD","sourcesContent":["import React, { useState } from \"react\";\r\nimport Background from \"../components/Background\";\r\nimport Logo from \"../components/Logo\";\r\nimport Header from \"../components/Header\";\r\nimport Button from \"../components/Button\";\r\nimport Paragraph from \"../components/Paragraph\";\r\nimport TextInput from \"../components/TextInput\";\r\nimport { ActivityIndicator } from \"react-native\";\r\nimport { numberValidator } from \"../helpers/numberValidator\";\r\n\r\nexport default function StartScreen({ navigation }) {\r\n  const [number, setNumber] = useState({ value: \"\", error: \"\" });\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const getURL = async () => {\r\n    setLoading(true);\r\n    const numberError = numberValidator(number.value);\r\n\r\n    if (numberError) {\r\n      setNumber({ ...number, error: numberError });\r\n      setLoading(false);\r\n    } else {\r\n      try {\r\n        const response = await fetch(\"https://fiu-uat.setu.co/consents/\" + number.value);\r\n        const json = await response.text();\r\n        navigation.navigate(\"Dashboard\", { param: json });\r\n      } catch (error) {\r\n        console.error(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Background>\r\n      <Logo />\r\n      <Header>Financial Wellbeing</Header>\r\n      <Paragraph>\r\n        Reflect on your habits \r\n      </Paragraph>\r\n      <TextInput\r\n        label=\"Mobile number\"\r\n        returnKeyType=\"next\"\r\n        value={number.value}\r\n        onChangeText={(text) => setNumber({ value: text, error: \"\" })}\r\n        error={!!number.error}\r\n        errorText={number.error}\r\n        keyboardType=\"number-pad\"\r\n      />\r\n      <Button mode=\"contained\" onPress={getURL}>\r\n        Start evaluating\r\n      </Button>\r\n      {isLoading ? <ActivityIndicator size=\"large\" color=\"#0000ff\" /> : null}\r\n    </Background>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}